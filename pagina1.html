<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Typing Effect</title>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #f0f0f0;
            font-family: Arial, sans-serif;
            margin: 0;
        }
        .typing-text {
            font-size: 24px;
            white-space: pre-wrap;
            border-right: 2px solid black;
            overflow: hidden;
        }
    </style>
</head>
<body>
    <div class="typing-text" id="text"></div>

    <script>
        const text = "Vou te contar uma históriazinha. Em uma certa cidade, estavam 4 pessoas… não exatamente pessoas mas eram 4 gente. Eles viviam uma vida “normal” eu acho, mas aí eles receberam um SUPER poder, tipo um fantasma que andava com eles. Eles estavam assustados quando receberam o poder, acho que foi porque estavam num lugar todo diferente e “assustador” mas num era TÃO assustador assim… bem, eles acharam um outro cara que também tinha esse poder e ele fez uma proposta pra eles. Essa Proposta foi de, praticamente, eles fazerem o serviço dele e eles concordaram, acho que não tinham muita coisa pra fazer mesmo. Bem, missãozinha aqui e ali, eles acabaram descobrindo que estavam sendo feitos de trouxas, meio que porque eles mataram uma “inocente”. Irritados, eles foram se acertar com o outro cara, subiram em um prédio lá e tiveram uma batalha com home. Ah, já ia me esquecendo, um dos que estavam nesse grupo tinha ganhado o poder de uma forma diferente, ele estava no mesmo lugar que os outros só que não foi com o mesmo ser. Eu acho que foi tipo um pacto, mas enfim, quando eles estavam lutando com o sabichão lá, esse outro ser surgiu e roubou um dos poderes do espertão e então ele… sumiu! Teve um desenrolo depois lá, o sabe-tudo invocou um bixo poderoso e um deles se sacrificou, nada demais… *som de choro baixo. Eh, essa é a história que eu queria te contar, se o folgado do --- pode então eu também posso!";
        let index = 0;

        function typeEffect() {
            if (index < text.length) {
                document.getElementById("text").innerHTML += text.charAt(index);
                index++;
                setTimeout(typeEffect, 50); // Adjust the speed by changing the number
            }
        }

        async function checkVisitor() {
            try {
                // Obtém o IP do visitante usando uma API pública
                const response = await fetch('https://api64.ipify.org/?format=json');
                const data = await response.json();
                const userIP = data.ip;

                // Verifica se o IP já está registrado no localStorage
                let accessedIPs = JSON.parse(localStorage.getItem('accessedIPs')) || [];

                if (accessedIPs.includes(userIP)) {
                    // Redireciona caso o IP já tenha acessado
                    window.location.href = 'pagina3.html';
                } else {
                    // Armazena o IP no localStorage
                    accessedIPs.push(userIP);
                    localStorage.setItem('accessedIPs', JSON.stringify(accessedIPs));
                }
            } catch (error) {
                console.error('Erro ao verificar o IP do visitante:', error);
            }
        }

        window.onload = () => {
            checkVisitor();
            typeEffect();
        };
    </script>
</body>
</html>
